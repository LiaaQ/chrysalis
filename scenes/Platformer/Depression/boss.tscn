[gd_scene load_steps=106 format=3 uid="uid://dnqlv6vtlwgyb"]

[ext_resource type="Texture2D" uid="uid://bg05jci4bnkci" path="res://assets/platformer/depression/boss/attacking.png" id="1_7t5o0"]
[ext_resource type="Script" uid="uid://bh77xxrsqeqxl" path="res://scripts/platformer/depression_boss.gd" id="1_aicog"]
[ext_resource type="PackedScene" uid="uid://db6dxp0ikngo5" path="res://scenes/Platformer/Depression/chain_attack.tscn" id="2_kpcoe"]
[ext_resource type="Texture2D" uid="uid://dqb0l4vpkjnmu" path="res://assets/platformer/depression/boss/death.png" id="2_patr5"]
[ext_resource type="PackedScene" uid="uid://dbf0ugx0ry8tt" path="res://scenes/Platformer/Depression/skeleton_enemy.tscn" id="3_548kr"]
[ext_resource type="Texture2D" uid="uid://5jnj4ueiuork" path="res://assets/platformer/depression/boss/idle.png" id="3_aicog"]
[ext_resource type="Shader" uid="uid://yyotklot8yva" path="res://shaders/iframes.gdshader" id="4_8anmd"]
[ext_resource type="Texture2D" uid="uid://d052jcg6v56sw" path="res://assets/platformer/depression/boss/skill1.png" id="4_kpcoe"]
[ext_resource type="Texture2D" uid="uid://cl0wn83lq1ahe" path="res://assets/platformer/depression/boss/summon.png" id="5_548kr"]
[ext_resource type="AudioStream" uid="uid://cn3nayi7shyf4" path="res://assets/sounds/teleport.mp3" id="9_inenk"]
[ext_resource type="AudioStream" uid="uid://xy3rqymsu4gh" path="res://assets/sounds/chain_prepare.mp3" id="9_k0cb3"]
[ext_resource type="AudioStream" uid="uid://dbnhh3yrnv0uo" path="res://assets/sounds/low_attack.mp3" id="9_seskx"]
[ext_resource type="AudioStream" uid="uid://c8gggwg8eyewv" path="res://assets/sounds/high_attack.mp3" id="10_inenk"]
[ext_resource type="AudioStream" uid="uid://cnmexk2lr4rr4" path="res://assets/sounds/summon.mp3" id="13_law5f"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_wd01u"]
shader = ExtResource("4_8anmd")
shader_parameter/flash_white = false

[sub_resource type="AtlasTexture" id="AtlasTexture_kpcoe"]
atlas = ExtResource("3_aicog")
region = Rect2(0, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_548kr"]
atlas = ExtResource("1_7t5o0")
region = Rect2(0, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_seskx"]
atlas = ExtResource("1_7t5o0")
region = Rect2(300, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_inenk"]
atlas = ExtResource("1_7t5o0")
region = Rect2(600, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_k0cb3"]
atlas = ExtResource("1_7t5o0")
region = Rect2(900, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_law5f"]
atlas = ExtResource("1_7t5o0")
region = Rect2(1200, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_8anmd"]
atlas = ExtResource("1_7t5o0")
region = Rect2(1500, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_wd01u"]
atlas = ExtResource("1_7t5o0")
region = Rect2(0, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_7vdu0"]
atlas = ExtResource("1_7t5o0")
region = Rect2(300, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_tr0p3"]
atlas = ExtResource("1_7t5o0")
region = Rect2(600, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_npy68"]
atlas = ExtResource("1_7t5o0")
region = Rect2(900, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_e57cj"]
atlas = ExtResource("1_7t5o0")
region = Rect2(1200, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_rkui0"]
atlas = ExtResource("1_7t5o0")
region = Rect2(1500, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_o64ql"]
atlas = ExtResource("1_7t5o0")
region = Rect2(0, 600, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_p626u"]
atlas = ExtResource("2_patr5")
region = Rect2(0, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_gtj3c"]
atlas = ExtResource("2_patr5")
region = Rect2(300, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_n0adj"]
atlas = ExtResource("2_patr5")
region = Rect2(600, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_kkjjv"]
atlas = ExtResource("2_patr5")
region = Rect2(900, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_anj5f"]
atlas = ExtResource("2_patr5")
region = Rect2(1200, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_71riy"]
atlas = ExtResource("2_patr5")
region = Rect2(1500, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_6tre2"]
atlas = ExtResource("2_patr5")
region = Rect2(1800, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_yocw3"]
atlas = ExtResource("2_patr5")
region = Rect2(2100, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_nwas1"]
atlas = ExtResource("2_patr5")
region = Rect2(2400, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_esk1b"]
atlas = ExtResource("2_patr5")
region = Rect2(2700, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_jatog"]
atlas = ExtResource("2_patr5")
region = Rect2(0, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_85hmm"]
atlas = ExtResource("2_patr5")
region = Rect2(300, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_m6rh2"]
atlas = ExtResource("2_patr5")
region = Rect2(600, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_e1x2w"]
atlas = ExtResource("2_patr5")
region = Rect2(900, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_ho28r"]
atlas = ExtResource("2_patr5")
region = Rect2(1200, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_f3c5r"]
atlas = ExtResource("2_patr5")
region = Rect2(1500, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_06ias"]
atlas = ExtResource("2_patr5")
region = Rect2(1800, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_3keh5"]
atlas = ExtResource("2_patr5")
region = Rect2(2100, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_aeggs"]
atlas = ExtResource("2_patr5")
region = Rect2(2400, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_kkmh3"]
atlas = ExtResource("3_aicog")
region = Rect2(0, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_m5tv0"]
atlas = ExtResource("3_aicog")
region = Rect2(300, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_y2cjo"]
atlas = ExtResource("3_aicog")
region = Rect2(600, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_blka4"]
atlas = ExtResource("3_aicog")
region = Rect2(900, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_y1b5v"]
atlas = ExtResource("4_kpcoe")
region = Rect2(0, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_ph7ge"]
atlas = ExtResource("4_kpcoe")
region = Rect2(300, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_rnqyq"]
atlas = ExtResource("4_kpcoe")
region = Rect2(600, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_fxy83"]
atlas = ExtResource("4_kpcoe")
region = Rect2(900, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_16c8d"]
atlas = ExtResource("4_kpcoe")
region = Rect2(1200, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_f6ymu"]
atlas = ExtResource("4_kpcoe")
region = Rect2(1500, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_5wdw2"]
atlas = ExtResource("4_kpcoe")
region = Rect2(0, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_rsfv6"]
atlas = ExtResource("4_kpcoe")
region = Rect2(300, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_cv6ii"]
atlas = ExtResource("4_kpcoe")
region = Rect2(600, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_hly5y"]
atlas = ExtResource("4_kpcoe")
region = Rect2(900, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_wga71"]
atlas = ExtResource("4_kpcoe")
region = Rect2(1200, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_7eyqw"]
atlas = ExtResource("4_kpcoe")
region = Rect2(1500, 300, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_75ywg"]
atlas = ExtResource("5_548kr")
region = Rect2(0, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_voavr"]
atlas = ExtResource("5_548kr")
region = Rect2(300, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_tch5c"]
atlas = ExtResource("5_548kr")
region = Rect2(600, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_j74lk"]
atlas = ExtResource("5_548kr")
region = Rect2(900, 0, 300, 300)

[sub_resource type="AtlasTexture" id="AtlasTexture_dr0l0"]
atlas = ExtResource("5_548kr")
region = Rect2(0, 300, 300, 300)

[sub_resource type="SpriteFrames" id="SpriteFrames_lmmd1"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_kpcoe")
}],
"loop": true,
"name": &"RESET",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_548kr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_seskx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_inenk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_k0cb3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_law5f")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8anmd")
}],
"loop": true,
"name": &"attack1",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_wd01u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7vdu0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tr0p3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_npy68")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e57cj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rkui0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o64ql")
}],
"loop": false,
"name": &"attack2",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_p626u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gtj3c")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_n0adj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kkjjv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_anj5f")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_71riy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6tre2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yocw3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nwas1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_esk1b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jatog")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_85hmm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_m6rh2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e1x2w")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ho28r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f3c5r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_06ias")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3keh5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_aeggs")
}],
"loop": false,
"name": &"death",
"speed": 11.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_kkmh3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_m5tv0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_y2cjo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_blka4")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_y1b5v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ph7ge")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rnqyq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fxy83")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_16c8d")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_f6ymu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5wdw2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rsfv6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cv6ii")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hly5y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wga71")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7eyqw")
}],
"loop": false,
"name": &"skill",
"speed": 9.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_75ywg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_voavr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tch5c")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j74lk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dr0l0")
}],
"loop": false,
"name": &"summon",
"speed": 4.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_patr5"]
size = Vector2(130, 95)

[sub_resource type="CircleShape2D" id="CircleShape2D_aicog"]
radius = 78.0

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kpcoe"]
animation = &"Attack2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_law5f"]
animation = &"Attack1"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_8anmd"]
blend_point_0/node = SubResource("AnimationNodeAnimation_kpcoe")
blend_point_0/pos = 1.0
blend_point_1/node = SubResource("AnimationNodeAnimation_law5f")
blend_point_1/pos = 0.0
blend_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8anmd"]
animation = &"Death"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_inenk"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_k0cb3"]
animation = &"RESET"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_seskx"]
animation = &"Summon_Skeletons"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_wd01u"]
animation = &"Throw_Chain"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_7vdu0"]
blend_point_0/node = SubResource("AnimationNodeAnimation_seskx")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_wd01u")
blend_point_1/pos = 1.0
blend_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_548kr"]
animation = &"Teleport"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_law5f"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8anmd"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_seskx"]
advance_mode = 2
advance_expression = "distance < attack_range && attack_cooldown <= 0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_inenk"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_k0cb3"]
advance_mode = 2
advance_expression = "distance > attack_range * 3 && teleport_cooldown <= 0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_wd01u"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_e57cj"]
advance_mode = 2
advance_expression = "hp <= 0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_rkui0"]
advance_mode = 2
advance_expression = "hp <= 0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_o64ql"]
advance_mode = 2
advance_expression = "hp <= 0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_npy68"]
advance_mode = 2
advance_expression = "hp <= 0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_p626u"]
advance_mode = 2
advance_expression = "skill_cooldown <= 0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_gtj3c"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_tr0p3"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_e57cj"]
states/Attack/node = SubResource("AnimationNodeBlendSpace1D_8anmd")
states/Attack/position = Vector2(506, -43)
states/Death/node = SubResource("AnimationNodeAnimation_8anmd")
states/Death/position = Vector2(813, -43)
states/End/position = Vector2(1042, 100)
states/Idle/node = SubResource("AnimationNodeAnimation_inenk")
states/Idle/position = Vector2(506, 100)
states/RESET/node = SubResource("AnimationNodeAnimation_k0cb3")
states/RESET/position = Vector2(337, 79)
states/Skill/node = SubResource("AnimationNodeBlendSpace1D_7vdu0")
states/Skill/position = Vector2(506, 257)
states/Teleport/node = SubResource("AnimationNodeAnimation_548kr")
states/Teleport/position = Vector2(813, 257)
transitions = ["Start", "RESET", SubResource("AnimationNodeStateMachineTransition_law5f"), "RESET", "Idle", SubResource("AnimationNodeStateMachineTransition_8anmd"), "Idle", "Attack", SubResource("AnimationNodeStateMachineTransition_seskx"), "Attack", "Idle", SubResource("AnimationNodeStateMachineTransition_inenk"), "Idle", "Teleport", SubResource("AnimationNodeStateMachineTransition_k0cb3"), "Teleport", "Idle", SubResource("AnimationNodeStateMachineTransition_wd01u"), "Teleport", "Death", SubResource("AnimationNodeStateMachineTransition_e57cj"), "Idle", "Death", SubResource("AnimationNodeStateMachineTransition_rkui0"), "Attack", "Death", SubResource("AnimationNodeStateMachineTransition_o64ql"), "Skill", "Death", SubResource("AnimationNodeStateMachineTransition_npy68"), "Idle", "Skill", SubResource("AnimationNodeStateMachineTransition_p626u"), "Skill", "Idle", SubResource("AnimationNodeStateMachineTransition_gtj3c"), "Death", "End", SubResource("AnimationNodeStateMachineTransition_tr0p3")]
graph_offset = Vector2(120, 72)

[sub_resource type="Animation" id="Animation_p626u"]
resource_name = "Attack1"
length = 0.55
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"attack1"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"perform_attack"
}]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("UndeadDealDamage/CollisionShape2D:disabled")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}

[sub_resource type="Animation" id="Animation_gtj3c"]
resource_name = "Attack2"
length = 0.65
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"attack2"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"perform_attack"
}]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("UndeadDealDamage/CollisionShape2D:disabled")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.6),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}

[sub_resource type="Animation" id="Animation_n0adj"]
resource_name = "Death"
length = 1.85
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"death"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 13, 11, 12, 13, 14, 15, 16, 17, 18]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(1.84011),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"death"
}]
}

[sub_resource type="Animation" id="Animation_o64ql"]
resource_name = "Idle"
length = 0.35
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3]
}

[sub_resource type="Animation" id="Animation_rkui0"]
resource_name = "RESET"
length = 0.05
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"RESET"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("UndeadDealDamage/CollisionShape2D:disabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_71riy"]
resource_name = "Summon_Skeletons"
length = 0.85
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"summon"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 3, 3, 3, 3, 4]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.4),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"skill"
}]
}

[sub_resource type="Animation" id="Animation_kkjjv"]
resource_name = "Skill"
length = 1.15
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"skill"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.8),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"teleport_near_player"
}]
}
tracks/3/type = "audio"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sounds/Teleport")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"clips": [{
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("9_inenk")
}],
"times": PackedFloat32Array(0)
}
tracks/3/use_blend = true

[sub_resource type="Animation" id="Animation_anj5f"]
resource_name = "Summon"
length = 0.85
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"summon"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 3, 3, 3, 3, 4]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.448059),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"skill"
}]
}
tracks/3/type = "audio"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Sounds/chain_prepare")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"clips": [{
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("9_k0cb3")
}],
"times": PackedFloat32Array(0)
}
tracks/3/use_blend = true

[sub_resource type="AnimationLibrary" id="AnimationLibrary_6tre2"]
_data = {
&"Attack1": SubResource("Animation_p626u"),
&"Attack2": SubResource("Animation_gtj3c"),
&"Death": SubResource("Animation_n0adj"),
&"Idle": SubResource("Animation_o64ql"),
&"RESET": SubResource("Animation_rkui0"),
&"Summon_Skeletons": SubResource("Animation_71riy"),
&"Teleport": SubResource("Animation_kkjjv"),
&"Throw_Chain": SubResource("Animation_anj5f")
}

[node name="Undead" type="CharacterBody2D"]
script = ExtResource("1_aicog")
hp_max = 300
chain_scene = ExtResource("2_kpcoe")
skeleton_scene = ExtResource("3_548kr")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
material = SubResource("ShaderMaterial_wd01u")
sprite_frames = SubResource("SpriteFrames_lmmd1")
animation = &"RESET"
autoplay = "idle"
offset = Vector2(13.87, 0)

[node name="UndeadHitbox" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="UndeadHitbox"]
position = Vector2(8, -18.5)
shape = SubResource("RectangleShape2D_patr5")

[node name="UndeadDealDamage" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="UndeadDealDamage"]
position = Vector2(55, -12)
shape = SubResource("CircleShape2D_aicog")
disabled = true

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeStateMachine_e57cj")
advance_expression_base_node = NodePath("..")
anim_player = NodePath("../AnimationPlayer")
parameters/Attack/blend_position = -0.00465983
parameters/Skill/blend_position = 0

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_6tre2")
}

[node name="Sounds" type="Node" parent="."]

[node name="Low_Attack" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("9_seskx")
volume_db = 4.952

[node name="High_Attack" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("10_inenk")

[node name="Teleport" type="AudioStreamPlayer2D" parent="Sounds"]

[node name="chain_prepare" type="AudioStreamPlayer2D" parent="Sounds"]
volume_db = 5.943

[node name="Summon" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("13_law5f")

[node name="Invulnerable" type="Timer" parent="."]
wait_time = 2.0
one_shot = true

[connection signal="body_entered" from="UndeadDealDamage" to="." method="_on_undead_deal_damage_body_entered"]
[connection signal="timeout" from="Invulnerable" to="." method="_on_invulnerable_timeout"]
